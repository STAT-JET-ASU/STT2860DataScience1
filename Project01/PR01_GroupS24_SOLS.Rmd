---
title: "Project 01: Group Coding & Analysis"
subtitle: "STT 2860 Intro to Data Management & Visualization" 
author: "SOLUTIONS // Jill E. Thomley"
date: "`r format(Sys.time(), '%A, %B %d, %Y @ %I:%M %p')`"
output: 
  html_document: 
    theme: yeti
    highlight: textmate
    toc: true
    toc_depth: 4 
---

<hr>

```{r globaloptions, include = FALSE}
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  comment = NA
)
```

### Packages Used

```{r packages}
library(tidyverse)
```

### Building Vectors

Create each vector as efficiently as possible using the vector creation function we learned in class. Store each vector as an object and print it out so the results are visible when you knit your file.

#### pH Values

A machine reads the pH of a solution to one decimal place of precision. Create a vector that contains all possible output values that could be produced by the machine.

```{r pHvals}
pH <- seq(from = 0, to = 14, by = 0.1)

pH
```

#### Blood Types

In a group of 100 people, each person has one of four possible blood types: A, B, AB, or O. Create a vector that contains the 100 blood types in the correct proportions.

* A = 40% of the people
* B = 11% of the people
* AB = 4% of the people
* O = 45% of the people
    
```{r bloodtypes}
blood <- rep(c("A", "B", "AB", "O"), times = c(40, 11, 4, 45))

blood

# we can use the table() function to verify
# this part was not required, but is useful

table(blood)
```

#### Game Choices

A player in a particular game can choose rock, paper, scissors, lizard, or Spock. Create the vector of choices, then use `sample()` to choose one option from the vector.

```{r gamechoices}
game <- c("rock", "paper", "scissors", "lizard", "Spock")

game

sample(game, size = 1)
```

### STT 2860 Class Data

#### Build Variable Vectors

Refer to the document [STT2860F23List.pdf](https://drive.google.com/file/d/103Pjig-_anvkBYImOuvSApOT0BnIkHmB/view?usp=sharing). Use it to create the following vectors. You will be combining these individual vectors into a dataset, so be sure the vectors have each person's information in the correct positions. For the Major / Conc data, the major and concentration are separated by a comma (i.e., major, concentration). Not everyone has a concentration (or a middle initial, for that matter). But, you will have to use something to occupy that space to keep the vectors spaced properly. You also will want to consider appropriate variable names when you create and store  your vectors as objects. No spaces in the names!

Vector 1: Last Name

```{r makevector1}
# for long vectors, it can be easier to read vertically
# finding one value is easier in a column than wrapped
# R does not care about line breaks, only the closing )

last <- c(
  "Auger",
  "Brassel",
  "Cameron",
  "Chao",
  "Cole",
  "Cvach",
  "de Camara",
  "Eller",
  "Fisher",
  "Foote",
  "Gantert",
  "Harvey",
  "Johnson",
  "Mair",
  "Mims",
  "Nall",
  "Nandi",
  "Odum",
  "Pardue",
  "Rathje",
  "Ronk",
  "Seevers",
  "Sheehan",
  "Staples"
)
```

Vector 2: First Name

```{r makevector2}
first <- c(
 "Sam",
 "Elizabeth",
 "Coble",
 "DJ",
 "Josh",
 "Matthew",
 "Mike",
 "Fe",
 "Natalie",
 "Lily",
 "Joelle",
 "Katie",
 "Danae",
 "Matthew",
 "Josh",
 "Molly",
 "Keya",
 "Heather",
 "Savannah",
 "Trevor",
 "Damien",
 "Joey",
 "Jackson",
 "Evie"
)
```

Vector 3: Middle Initial

```{r makevector3}
# enter NA for those without middle initials
# do not use quotes around the NA -- not "NA"

middle <- c(
 "J.",
 "G.",
 "C.",
 "J.",
 "B.",
 "L.",
 "P.",
 "S.",
 "N.",
 "A.",
 NA,
 "S.",
 "E.",
 "C.",
 NA,
 "E.",
 NA,
 "R.",
 "G.",
 "A.",
 "M.",
 "M.",
 "C.",
 "H."
)
```

Vector 4: E-Mail Address

```{r makevector4}
email <- c(
 "augersj@appstate.edu",
 "brasseleg@appstate.edu",
 "cameroncc1@appstate.edu",
 "chaodj@appstate.edu",
 "colejb1@appstate.edu",
 "cvachml@appstate.edu",
 "decamaramp@appstate.edu",
 "elleris@appstate.edu",
 "fishernn@appstate.edu",
 "footela@appstate.edu",
 "gantertj@appstate.edu",
 "harveyks@appstate.edu",
 "johnsonde@appstate.edu",
 "mairmc@appstate.edu",
 "mimsj@appstate.edu",
 "nallme@appstate.edu",
 "nandik@appstate.edu",
 "odumhr@appstate.edu",
 "parduesg@appstate.edu",
 "rathjeta@appstate.edu",
 "ronklm@appstate.edu",
 "seeversjm@appstate.edu",
 "sheehanjc@appstate.edu",
 "stapleseh@appstate.edu"
)
```

Vector 5: College

```{r makevector5}
college <- c(
  "AS",
  "FA",
  "CB",
  "CB",
  "AS",
  "AS",
  "AS",
  "GC",
  "GC",
  "AS",
  "AS",
  "AS",
  "AS",
  "AS",
  "AS",
  "GC",
  "GC",
  "AS",
  "AS",
  "AS",
  "AS",
  "AS",
  "AS",
  "HS"
)
```

Vector 6: Class

```{r makevector6}
class <- c(
  "Senior",
  "Senior",
  "Sophomore",
  "Junior",
  "Senior",
  "Junior",
  "Senior",
  "Junior",
  "Freshman",
  "Senior",
  "Junior",
  "Junior",
  "Junior",
  "Senior",
  "Senior",
  "Freshman",
  "Sophomore",
  "Senior",
  "Senior",
  "Junior",
  "Junior",
  "Senior",
  "Junior",
  "Junior"
)
```

Vector 7: Major

```{r makevector7}
major <- c(
  "Anthropology",
  "Advertising",
  "Supply Chain Management",
  "Finance and Banking",
  "Psychology",
  "Mathematics",
  "Mathematics",
  "Undecided",
  "Mathematics",
  "Mathematics",
  "Mathematics",
  "Mathematics",
  "Psychology",
  "Political Science",
  "Mathematics",
  "Psychology",
  "Chemistry",
  "Psychology",
  "Psychology",
  "Mathematics",
  "Computer Science",
  "Mathematics",
  "Actuarial Science",
  "Recreation Management"
)
```

Vector 8: Concentration

```{r makevector8}
concentration <- c(
  NA,
  NA,
  NA,
  NA,
  "Human Services",
  "Computation",
  "General Mathematics",
  NA,
  "Statistics",
  "Statistics",
  "Business",
  "Physical Sciences",
  "Human Services",
  "Int'l & Comparative Politics",
  "Business",
  "Health Studies",
  "Biochemistry",
  "Health Studies",
  "Business",
  "Business",
  NA,
  "Statistics",
  NA,
  "Comm Rec & Tourism Mgt"
)
```

#### Create a Tibble from the Vectors

Use the `tibble()` function to create a class dataset from your vectors. Assign your dataset to the object name `students2860F23`. 

```{r maketibble}
students2860F23 <- tibble(
  last,
  first,
  middle,
  email,
  college,
  class,
  major,
  concentration
)
```

Show the structure of your dataset using the `glimpse()` function.

```{r glimpsetibble}
glimpse(students2860F23)
```

Display the first 5 rows of your dataset using the `head()` function.

```{r headtibble}
head(students2860F23)
```

Use a function to verify that here are 24 rows and 8 columns in the dataset.

```{r rowcols}
dim(students2860F23)
```

Use a function or functions to determine how many cases contain missing data.

```{r missingdat}
sum(!complete.cases(students2860F23))
```

### Experiment Dataset

#### Build the Dataset #1

Consider an example of a [factorial experiment](https://en.wikipedia.org/wiki/Factorial_experiment) on Wikipedia. An engineer wants to increase filtration rate in a process and reduce the amount of formaldehyde used. Four factors were tested: **temperature (A)**, **pressure (B)**, **formaldehyde concentration (C)**, and **stirring rate (D)**. Each factor was tested at two levels and in all combinations. The "Design matrix and resulting filtration rate" table located a little more than halfway down the page shows the data from the experiment. The minus (âˆ’) and plus (+) symbols indicate whether the factor was included at a low (-) or high (+) level. Create a **tibble** of the data including the variables A, B, C, D, and the observed filtration rate. Use the terms "low" and "high" rather than `+` and `-` symbols as data values, since these symbols are arithmetic operations in `R`. Program each variable as efficiently as possible using the vector creation functions you learned. You may rename the variables something that is `R`-friendly (no spaces). Store your dataset as experiment_data01.

```{r exp_data_tib}
# solution 1

factor <- c("low", "high")

experiment_data01 <- tibble(
  FactorA = rep(factor, times = 8),
  FactorB = rep(factor, each = 2, times = 4),
  FactorC = rep(factor, each = 4, times = 2),
  FactorD = rep(factor, each = 8),
  FiltRate = c(45, 71, 48, 65, 68, 60, 80, 65, 43, 100, 45, 104, 75, 86, 70, 96)
)

experiment_data01

# to help see the pattern, imagine ...
#
# factor <- c("low", "high")
#
# FactorA = rep(factor, each = 1, times = 8),
# FactorB = rep(factor, each = 2, times = 4),
# FactorC = rep(factor, each = 4, times = 2),
# FactorD = rep(factor, each = 8, times = 1),
```

```{r exp_data_tib_alt}
# solution 2

experiment_data01_alt <- tibble(
  FactorA = rep(c("low", "high"), times = 8),
  FactorB = rep(c("low", "high"), each = 2, times = 4),
  FactorC = rep(c("low", "high"), each = 4, times = 2),
  FactorD = rep(c("low", "high"), each = 8),
  FiltRate = c(45, 71, 48, 65, 68, 60, 80, 65, 43, 100, 45, 104, 75, 86, 70, 96)
)

experiment_data01_alt
```

#### Build the Dataset #2

Create a **data frame** of the same data and store it as `experiment_data02`.

```{r exp_data_df}
factor <- c("low", "high")

experiment_data02 <- data.frame(
  FactorA = rep(factor, times = 8),
  FactorB = rep(factor, each = 2, times = 4),
  FactorC = rep(factor, each = 4, times = 2),
  FactorD = rep(factor, each = 8),
  FiltRate = c(45, 71, 48, 65, 68, 60, 80, 65, 43, 100, 45, 104, 75, 86, 70, 96)
)

experiment_data02
```

#### Are They the Same?

Use `identical()` to test whether `experiment_data01` and `experiment_data02` are the same.

**NOTE:** The two datasets contain the same values, but they are not identical in structure/*attributes*, resulting in `FALSE`.

```{r ident_test}
identical(experiment_data01, experiment_data02)
```

```{r}
# but, for our two ways of making experiment_data01
# nesting c("low", "high") does not change structure

identical(experiment_data01, experiment_data01_alt)
```

Use `all.equal()` to test whether `experiment_data01` and `experiment_data02` are the same.

**NOTE:** The two datasets contain the same values, but they are not identical in structure/*attributes*. A tibble has three classes while a data frame has only one. The `all.equal()` functions outputs information about this difference in onject attributes.

```{r equal_test}
all.equal(experiment_data01, experiment_data02)
```

#### Explore the Datasets

Use `glimpse()` to explore the structure of both datasets.

```{r glimpse_01}
glimpse(experiment_data01)
```

```{r glimpse_02}
glimpse(experiment_data02)
```

Use `class()` and `typeof()` to to explore both datasets.

**NOTE:** You can see here the difference in class attributes between the datasets. However, both are stored as lists.

```{r class}
class(experiment_data01)
class(experiment_data02)
```

```{r typeof}
typeof(experiment_data01)
typeof(experiment_data02)
```

#### Compare and Contrast

How do the two datasets differ as a result of creating the first one as a tibble and the second one as a data frame? What do they have in common? Discuss.

ANSWER: The data contents and the vector types of the two datasets are the same. However, the tibble has three class attributes (`tbl_df`, `tbl`, and `data.frame`), while the data frame has only one such class attribute (`data.frame`). This differene could possibly impact how the datasets interact with some `R` functions.


***
```{r}
sessionInfo()
```

